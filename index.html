<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"
  />
  <meta name="theme-color" content="#11002b" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <title>Next Level - La Caje Events</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap');

    html, body {
      margin: 0;
      padding: env(safe-area-inset-top) env(safe-area-inset-right)
               env(safe-area-inset-bottom) env(safe-area-inset-left);
      height: 100%;
      overflow-x: hidden;
      background-color: #11002b;
    }

    body {
      min-height: 100svh;
      font-family: 'Orbitron', sans-serif;
      color: white;

      background: linear-gradient(135deg, #120027, #330066, #00dfc6, #ff00cc);
      background-size: 400% 400%;
      animation: gradientMove 12s ease infinite alternate;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .overlay {
      width: 100%;
      min-height: 100svh;
      background: rgba(0,0,0,0.4);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .content {
      text-align: center;
      max-width: 450px;
      padding: 30px;
    }

    .title {
      font-size: 3.7em;
      line-height: 1.2;
      letter-spacing: 7px;
      margin-bottom: 10px;
      color: #fff;
      text-shadow:
        0 0 10px #ff00cc,
        0 0 20px #ff00cc,
        0 0 40px #00ffff,
        0 0 50px #00ffff;
    }

    .subtitle, .details, .dj {
      margin: 6px 0;
      font-size: 1.35em;
      text-shadow:
        0 0 6px #fff,
        0 0 18px #00ffff,
        0 0 25px #ff00cc;
    }

    form {
      margin-top: 30px;
      display: flex;
      flex-direction: column;
    }

    input {
      margin: 10px 0;
      padding: 15px;
      border: none;
      border-radius: 10px;
      font-size: 1em;
      background: rgba(0,0,0,0.55);
      color: white;
      transition: all 0.25s;
      box-shadow:
        0 0 6px rgba(0,0,0,0.8),
        inset 0 0 10px rgba(0,255,255,0.2);
    }

    input::placeholder {
      color: rgba(255,255,255,0.6);
    }

    input:focus {
      background: rgba(0,0,0,0.8);
      box-shadow:
        0 0 10px #ff00cc,
        0 0 10px #00ffff,
        0 0 30px #00ffff;
    }

    button {
      margin-top: 18px;
      padding: 15px;
      background: #00ffff;
      border: none;
      border-radius: 14px;
      font-size: 1.2em;
      font-weight: 700;
      color: #13002d;
      cursor: pointer;
      transition: all 0.3s ease-in-out;
      box-shadow:
        0 0 10px #00ffff,
        0 0 25px #00ffff,
        0 0 35px #ff00cc;
    }

    button:hover {
      transform: scale(1.07);
      box-shadow:
        0 0 15px #00ffff,
        0 0 30px #00ffff,
        0 0 45px #ff00cc;
    }

    #msg {
      margin-top: 20px;
      font-size: 1em;
      text-shadow: 0 0 6px #fff;
    }
  </style>
</head>

<body>
  <div class="overlay">
    <div class="content">
      <h1 class="title">NEXT<br>LEVEL</h1>
      <p class="subtitle">Loft Padova</p>
      <p class="details">6 Dicembre 2025 | 22:00</p>
      <p class="dj">DJ BOMPA</p>

      <form name="submit-to-google-sheet" id="form">
        <input name="Nome" type="text" placeholder="Nome" required />
        <input name="Cognome" type="text" placeholder="Cognome" required />
        <input name="Anno" type="number" placeholder="Anno di nascita" required />
        <input name="Telefono" type="tel" placeholder="Numero di telefono" required />
        <input name="Instagram" type="text" placeholder="Profilo Instagram" />
        <button type="submit" id="btn">Iscriviti alla Lista</button>
      </form>

      <div id="msg"></div>
    </div>
  </div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbwaUJhjdE7gecLGRAHRbwnhXRv-aj5U0eLcEZaCtbx3eovqj5bs0AzcElDCN7IOl_JqzA/exec";
const form = document.forms['submit-to-google-sheet'];
const msg = document.getElementById("msg");
const btn = document.getElementById("btn");

form.addEventListener("submit", (e) => {
  e.preventDefault();

  // blocca doppio invio
  btn.disabled = true;
  btn.textContent = "Invio...";
  btn.style.opacity = "0.6";

  fetch(scriptURL, {
    method: "POST",
    body: new FormData(form)
  })
  .then(response => {
    if (!response.ok) throw new Error("Errore di rete");
    return response.text();
  })
  .then(() => {
    msg.textContent = "✅ Iscrizione completata! Ci vediamo il 6 dicembre!";
    msg.style.color = "limegreen";

    form.reset();

    // disabilita form dopo submit
    Array.from(form.elements).forEach(el => el.disabled = true);
    btn.textContent = "Già iscritto";
  })
  .catch(error => {
    msg.textContent = "❌ Errore nell'invio, riprova tra poco.";
    msg.style.color = "red";

    btn.disabled = false;
    btn.textContent = "Riprova";
    btn.style.opacity = "1";
    console.error(error);
  });
});
</script>
</body>
</html>
